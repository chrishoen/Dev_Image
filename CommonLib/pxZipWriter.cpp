/*==============================================================================
Description:
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include "stdafx.h"

#include "CPrintDir.h"
#include "pxZipWriter.h"

namespace PX
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Constructor.

ZipWriter::ZipWriter()
{
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Zip the work directory to the zip directory with a zip filename
// that is a name plus a postfix.

void ZipWriter::doZipWork(const char* aZipName)
{
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // File paths.

   mWorkDirPath = CPrint::getWorkDirPath();
   mZipDirPath = CPrint::getZipDirPath();
   mZipFilePath = mZipDirPath + aZipName + ".zip";

   Prn::print(Prn::View02, "WorkDirPath        %s", mWorkDirPath.c_str());
   Prn::print(Prn::View02, "ZipFilePath        %s", mZipFilePath.c_str());


   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Zip.

   CPrint::doZipFromWork(mZipFilePath);
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace

