#pragma once
/*==============================================================================
printer eexecutive - synthetic gcode file writer
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include <fstream>
#include <string>

namespace PX
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
// This class encalsulates a synthetic gcode file generator.

class GCodeWriter
{
public:
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Constants.

   static const std::streamsize cMaxStringSize = 200;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // File paths.
   std::string mInputBeginFilePath;
   std::string mInputRepeatFilePath;
   std::string mInputEndFilePath;
   std::string mOutputGCodeFilePath;

   // File descriptors.
   std::ifstream mInputBeginFile;
   std::ifstream mInputRepeatFile;
   std::ifstream mInputEndFile;
   std::ofstream mOutputGCodeFile;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   GCodeWriter();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Generate a synthetic gcode file from the prototype files
   void doWrite(
      const std::string& aGCodeFileName,
      int aRepeatCount);

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Open the files. Return true if successful.
   bool doOpenFiles(
      const std::string& aGCodeFileName);

   // Close the files.
   void doCloseFiles();

};

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace




