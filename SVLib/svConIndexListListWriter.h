#pragma once

/*==============================================================================
Contour filter - index list list writer.
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include "svConParms.h"
#include "svRCIndexList.h"

namespace SV
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
// This is a parameterized function that reads from an input image and
// writes contours to a list of row column index lists.
//

class ConIndexListListWriter
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Parameters. These are read from a parms file.

   ConParms* mP;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   ConIndexListListWriter();
   ConIndexListListWriter(ConParms* aParms);
   void initialize(ConParms* aParms);
   void reset();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Read from an image, extract a list of all contours, and convert the 
   // contours to a list of row column index lists.
   void doWriteIndexListList(
      cv::Mat&              aInputImage,          // Input
      RCIndexListList&      aIndexListList);      // Output
};


//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace


